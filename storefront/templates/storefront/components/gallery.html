<style>
    :root { --nexus-accent: var(--nexus-accent, #f97316); }
    .nexus-gallery-section { width:100%; position:relative; padding:40px 16px; max-width:1200px; margin:0 auto; }
    .gallery-header { text-align:center; margin-bottom:20px; }
    .gallery-title { color:var(--nexus-text, #0f172a); font-size:1.25rem; font-weight:700; margin:0; }

    .gallery-grid { display:grid; grid-template-columns: repeat(4, 1fr); gap:20px; }
    .gallery-item { position:relative; border-radius:12px; overflow:hidden; cursor:pointer; background:var(--bg-card, #fff); border:1px solid rgba(15,23,42,0.04); transition: transform 0.18s ease, box-shadow 0.18s ease; }
    .gallery-item:hover { transform: translateY(-6px); box-shadow:0 12px 36px rgba(16,24,40,0.08); }

    .gallery-img { width:100%; height:100%; display:block; object-fit:cover; transition: transform 0.5s ease; }
    .gallery-item:hover .gallery-img { transform: scale(1.06); }

    .gallery-overlay { position:absolute; inset:0; background: linear-gradient(to top, rgba(15,23,42,0.24), transparent 40%); opacity:0; transition:opacity 0.18s ease; }
    .gallery-item:hover .gallery-overlay { opacity:1; }

    .gallery-filmstrip { display:flex; gap:16px; overflow-x:auto; padding:12px 4px; -webkit-overflow-scrolling:touch; }
    .gallery-filmstrip .gallery-item { flex:0 0 300px; height:200px; }

    @media (max-width:1024px) { .gallery-grid { grid-template-columns: repeat(3, 1fr); } }
    @media (max-width:768px) { .gallery-grid { grid-template-columns: repeat(2, 1fr); gap:8px; } .gallery-filmstrip .gallery-item{ flex:0 0 85vw; } }
</style>

<div class="nexus-gallery-section">

    {% if component.title %}
    <div class="gallery-header">
        <h4 class="gallery-title">{{ component.title }}</h4>
    </div>
    {% endif %}

    <div class="{% if component.style == 'filmstrip' %}gallery-filmstrip{% else %}gallery-grid{% endif %}">

        {% for url in component.imageUrls %}
        <div class="gallery-item" onclick="openImageModal('{{ url }}')">
            <img src="{{ url }}" alt="Gallery Image" class="gallery-img" loading="lazy">
            <div class="gallery-overlay"></div>
        </div>
        {% endfor %}

    </div>
</div>

<script>
    function openImageModal(url) {
        // You can connect this to a real lightbox if you have one.
        // For now, opening in new tab is a safe fallback.
        window.open(url, '_blank');
    }
</script>