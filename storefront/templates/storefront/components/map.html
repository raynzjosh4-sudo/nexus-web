<style>
    :root { --nexus-accent: var(--nexus-accent, #f97316); }
    .nexus-map-section { padding: 36px 16px; width:100%; max-width:1100px; margin:0 auto; }
    .nexus-section-title { font-size:1.25rem; color:var(--nexus-text,#0f172a); margin-bottom:12px; text-align:center; font-weight:700; }

    .map-container { position:relative; width:100%; height:420px; border-radius:12px; overflow:hidden; border:1px solid rgba(15,23,42,0.04); background: var(--map-bg); }

    .map-frame { width:100%; height:100%; border:0; display:block; filter:grayscale(100%) contrast(90%); transition:filter 0.25s ease; }
    .map-container:hover .map-frame { filter: none; }

    .map-info-card { position:absolute; top:18px; left:18px; background: rgba(255,255,255,0.9); padding:14px; border-radius:10px; border:1px solid rgba(15,23,42,0.04); max-width:320px; box-shadow:0 6px 20px rgba(16,24,40,0.06); z-index:12; }

    .location-title { color:var(--nexus-text,#0f172a); font-size:1rem; font-weight:700; margin-bottom:6px; }
    .location-pin-icon { color:var(--nexus-accent); margin-right:6px; }
    .location-address { color:var(--nexus-muted,#6b7280); margin-bottom:10px; line-height:1.4; }

    .directions-btn { display:inline-flex; gap:8px; align-items:center; padding:8px 12px; background:var(--nexus-accent); color:white; border-radius:8px; text-decoration:none; font-weight:700; }
    .directions-btn:hover { transform: translateY(-2px); }

    @media (max-width:768px) { .map-container{ height:360px; } .map-info-card{ position:relative; top:0; left:0; width:100%; border-radius:8px; margin-bottom:8px; } }
</style>

<div class="nexus-map-section">
    {% if component.title %}
        <h3 class="nexus-section-title">{{ component.title }}</h3>
    {% endif %}

    <div class="map-container">
        {% for loc in component.locations|slice:":1" %}
            <div class="map-info-card">
                <h4 class="location-title">
                    <span class="location-pin-icon">üìç</span> {{ loc.title }}
                </h4>
                <p class="location-address">{{ loc.description }}</p>
                <a href="https://www.google.com/maps/search/?api=1&query={{ loc.latitude }},{{ loc.longitude }}" target="_blank" class="directions-btn">
                    Get Directions ‚Üó
                </a>
            </div>
            <iframe class="map-frame" loading="lazy" allowfullscreen src="https://maps.google.com/maps?q={{ loc.latitude }},{{ loc.longitude }}&hl=en&z=14&output=embed"></iframe>
        {% endfor %}
    </div>
</div>