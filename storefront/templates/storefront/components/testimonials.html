<style>
    :root {
        --testim-bg: var(--nexus-card-bg, #181b21);
        --testim-border: var(--nexus-border, rgba(255,255,255,0.08));
        --nexus-accent: var(--nexus-accent, #f97316);
        --text-muted: var(--nexus-muted, #9ca3af);
    }

    .nexus-testimonial-section { padding: 40px 16px; width:100%; max-width:1100px; margin:0 auto; }

    .nexus-section-header { margin-bottom: 28px; }
    .nexus-section-title { font-size: 1.5rem; color: var(--nexus-text, #0f172a); margin:0; font-weight:700; }

    .testimonial-scroller { width:100%; display:flex; -webkit-mask-image: linear-gradient(90deg, transparent, #000 6%, #000 94%, transparent); mask-image: linear-gradient(90deg, transparent, #000 6%, #000 94%, transparent); }

    .testimonial-track { display:flex; gap:20px; padding:8px 0; animation: scroll-loop 36s linear infinite; width: max-content; }
    .testimonial-scroller:hover .testimonial-track { animation-play-state: paused; }

    @keyframes scroll-loop { 0% { transform: translateX(0);} 100% { transform: translateX(-50%);} }

    .testimonial-card {
        background: var(--testim-bg);
        border-radius: 14px;
        padding: 22px;
        position: relative;
        display: flex; flex-direction: column;
        width: 320px; flex-shrink:0;
        box-shadow: 0 1px 3px rgba(16,24,40,0.06);
        border: 1px solid var(--testim-border);
        transition: transform 0.18s ease, box-shadow 0.18s ease;
    }

    .testimonial-card:hover { transform: translateY(-6px); box-shadow: 0 10px 30px rgba(16,24,40,0.12); }

    .testimonial-card::before { content: 'â€œ'; position: absolute; top: 8px; right: 14px; font-size: 4rem; color: rgba(15,23,42,0.04); font-family: serif; pointer-events:none; }

    .testim-text { font-size: 0.98rem; line-height:1.6; color: var(--nexus-text, #0f172a); margin-bottom:18px; font-style: normal; }

    .testim-author { display:flex; align-items:center; gap:12px; padding-top:8px; border-top:1px solid rgba(15,23,42,0.03); }

    .author-img, .author-initial { width:44px; height:44px; border-radius:50%; object-fit:cover; display:flex; align-items:center; justify-content:center; background: #eef2ff; color:var(--nexus-accent); font-weight:700; }

    .author-img { border: 2px solid rgba(0,0,0,0.04); }

    .author-info h4 { margin:0; font-size:0.95rem; color: var(--nexus-text, #0f172a); font-weight:700; }
    .author-info span { font-size:0.85rem; color: var(--text-muted); display:block; margin-top:2px; }

    @media (max-width:600px) { .testimonial-card{ width:280px;} .testimonial-track { animation-duration: 26s; } }
</style>

<div class="nexus-testimonial-section">
    
    {% if component.title %}
        <div class="nexus-section-header">
            <h3 class="nexus-section-title">{{ component.title }}</h3>
        </div>
    {% endif %}

    <div class="testimonial-scroller">
        <div class="testimonial-track">
            
            {# --- FIRST LOOP (Original Set) --- #}
            {% for item in component.testimonials %}
                <div class="testimonial-card">
                    <p class="testim-text">"{{ item.quote }}"</p>
                    
                    <div class="testim-author">
                        {% if item.authorImageUrl %}
                            <img src="{{ item.authorImageUrl }}" alt="{{ item.authorName }}" class="author-img">
                        {% else %}
                            <div class="author-initial">
                                {{ item.authorName|slice:":1" }}
                            </div>
                        {% endif %}

                        <div class="author-info">
                            <h4>{{ item.authorName }}</h4>
                            {% if item.authorTitle %}
                                <span>{{ item.authorTitle }}</span>
                            {% endif %}
                        </div>
                    </div>
                </div>
            {% endfor %}

            {# --- SECOND LOOP (Duplicate Set for Seamless Infinity) --- #}
            {% for item in component.testimonials %}
                <div class="testimonial-card">
                    <p class="testim-text">"{{ item.quote }}"</p>
                    
                    <div class="testim-author">
                        {% if item.authorImageUrl %}
                            <img src="{{ item.authorImageUrl }}" alt="{{ item.authorName }}" class="author-img">
                        {% else %}
                            <div class="author-initial">
                                {{ item.authorName|slice:":1" }}
                            </div>
                        {% endif %}

                        <div class="author-info">
                            <h4>{{ item.authorName }}</h4>
                            {% if item.authorTitle %}
                                <span>{{ item.authorTitle }}</span>
                            {% endif %}
                        </div>
                    </div>
                </div>
            {% endfor %}

        </div>
    </div>

</div>