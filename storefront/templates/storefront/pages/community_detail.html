{% extends "storefront/pages/base_seo.html" %}

{% block header_meta %}
<div class="meta">
    <span>ğŸ“… {{ post.created_at|date:"j F Y" }}</span>
    <span>ğŸ‘¤ {{ post.author }}</span>
    <span>ğŸ’¬ Category: {{ post.category }}</span>
</div>
{% endblock %}

{% block main_content %}
<!-- Community Question/Post Detail -->
<article>
    <!-- Featured Image -->
    {% if post.image_url %}
    <div class="image-container">
        <img src="{{ post.image_url }}" alt="{{ post.title }}" loading="lazy">
    </div>
    {% endif %}

    <!-- Post Body -->
    <div class="description">
        {{ post.body }}
    </div>

    <!-- Post Meta Information -->
    <div style="background: var(--theme-surface-alt); padding: 20px; border-radius: 8px; margin: 30px 0;">
        <div style="color: var(--theme-accent-soft); font-size: 0.9rem; margin-bottom: 15px;">
            <strong>Category:</strong> {{ post.category }}
        </div>
        <div style="color: var(--theme-accent-soft); font-size: 0.9rem; margin-bottom: 15px;">
            <strong>Posted:</strong> {{ post.created_at|date:"F j, Y \a\t G:i" }}
        </div>
        {% if post.updated_at %}
        <div style="color: var(--theme-accent-soft); font-size: 0.9rem;">
            <strong>Updated:</strong> {{ post.updated_at|date:"F j, Y \a\t G:i" }}
        </div>
        {% endif %}
    </div>

    <!-- Action Buttons -->
    <div class="action-buttons">
        <a href="https://play.google.com/store/apps/details?id=com.nexus.marketplace" class="btn btn-primary">
            Reply on Nexus App
        </a>
        <a href="/" class="btn btn-secondary">
            Browse More Posts
        </a>
    </div>

    <!-- Author Card -->
    <div class="author-card">
        <div class="author-info">
            {% if post.avatar_url %}
            <img src="{{ post.avatar_url }}" alt="{{ post.author }}" class="author-avatar">
            {% else %}
            <div class="author-avatar"
                style="display: flex; align-items: center; justify-content: center; font-size: 1.5rem;">
                ğŸ‘¤
            </div>
            {% endif %}
            <div class="author-details">
                <h3>{{ post.author }}</h3>
                <p>Posted in {{ post.category }}</p>
                {% if post.location %}
                <p>ğŸ“ {{ post.location }}</p>
                {% endif %}
            </div>
        </div>
    </div>
</article>
{% endblock %}