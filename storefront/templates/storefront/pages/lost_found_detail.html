{% extends "storefront/pages/base_seo.html" %}

{% block header_meta %}
<div class="meta">
    <span>ğŸ“… {{ item.created_at|date:"j F Y" }}</span>
    <span>ğŸ“ {{ item.location_name }}</span>
    <span>{% if item.status == 'open' %}ğŸ”´ OPEN{% else %}ğŸŸ¢ CLAIMED{% endif %}</span>
</div>
{% endblock %}

{% block main_content %}
<!-- Lost & Found Item Detail -->
<article>
    <!-- Featured Image -->
    {% if item.image %}
    <div class="image-container">
        <img src="{{ item.image }}" alt="{{ item.title }}" loading="lazy">
    </div>
    {% else %}
    <div class="image-container"
        style="background: var(--theme-border); padding: 60px; border-radius: 8px; color: var(--theme-accent-soft);">
        ğŸ“· No image provided
    </div>
    {% endif %}

    <!-- Item Description -->
    <div class="description">
        {{ item.description }}
    </div>

    <!-- Item Details -->
    <div style="background: var(--theme-surface-alt); padding: 20px; border-radius: 8px; margin: 30px 0;">
        <div style="color: var(--theme-accent-soft); font-size: 0.9rem; margin-bottom: 15px;">
            <strong>ğŸ“ Location Found:</strong> {{ item.location_name }}
        </div>
        <div style="color: var(--theme-accent-soft); font-size: 0.9rem; margin-bottom: 15px;">
            <strong>ğŸ“… Date:</strong> {{ item.item_date|date:"F j, Y" }}
        </div>
        <div style="color: var(--theme-accent-soft); font-size: 0.9rem; margin-bottom: 15px;">
            <strong>ğŸ“‚ Category:</strong> {{ item.category }}
        </div>
        <div style="color: var(--theme-accent-soft); font-size: 0.9rem; margin-bottom: 15px;">
            <strong>Status:</strong>
            {% if item.status == 'open' %}
            <span style="color: #ef4444;">ğŸ”´ STILL LOOKING FOR OWNER</span>
            {% elif item.status == 'claimed' %}
            <span style="color: #10b981;">ğŸŸ¢ CLAIMED</span>
            {% else %}
            <span>{{ item.status }}</span>
            {% endif %}
        </div>
        {% if item.view_count %}
        <div style="color: var(--theme-accent-soft); font-size: 0.9rem;">
            <strong>ğŸ‘ï¸ Views:</strong> {{ item.view_count }}
        </div>
        {% endif %}
    </div>

    <!-- Contact Information -->
    {% if item.contact_value %}
    <div
        style="background: var(--theme-surface-alt); padding: 20px; border-radius: 8px; margin: 30px 0; border-left: 4px solid var(--theme-accent);">
        <h3 style="color: var(--theme-accent); margin-bottom: 10px;">ğŸ“ Contact the Poster</h3>
        <p style="color: var(--theme-text); word-break: break-all;">
            {{ item.contact_value }}
        </p>
        <p style="color: var(--theme-accent-soft); font-size: 0.9rem; margin-top: 10px;">
            âš ï¸ If you found this item, please contact the poster to arrange return.
        </p>
    </div>
    {% endif %}

    <!-- Action Buttons -->
    <div class="action-buttons">
        <a href="https://play.google.com/store/apps/details?id=com.nexus.marketplace" class="btn btn-primary">
            ğŸ”— Open Nexus App
        </a>
        <a href="/lost-and-found/" class="btn btn-secondary">
            Browse More Items
        </a>
    </div>

    <!-- Safety Tips -->
    <div
        style="background: var(--theme-border); padding: 20px; border-radius: 8px; margin-top: 30px; border-left: 4px solid #10b981;">
        <h3 style="color: #10b981; margin-bottom: 10px;">ğŸ›¡ï¸ Safety Tips</h3>
        <ul style="color: var(--theme-text); padding-left: 20px;">
            <li>Meet in public places only</li>
            <li>Bring someone with you</li>
            <li>Verify the item before payment</li>
            <li>Never send money before collecting the item</li>
        </ul>
    </div>
</article>
{% endblock %}