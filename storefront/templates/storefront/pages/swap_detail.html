{% extends "storefront/pages/base_seo.html" %}

{% block header_meta %}
<div class="meta">
    <span>ğŸ”„ SWAP OFFER</span>
    <span>ğŸ“… Posted {{ swap.created_at|date:"j F Y" }}</span>
    <span>ğŸ’° FREE (Trade)</span>
</div>
{% endblock %}

{% block main_content %}
<!-- Swap Item Detail -->
<article>
    <!-- Featured Image -->
    {% if swap.image %}
    <div class="image-container">
        <img src="{{ swap.image }}" alt="{{ swap.title }}" loading="lazy" style="max-height: 500px;">
    </div>
    {% else %}
    <div class="image-container"
        style="background: var(--theme-border); padding: 60px; border-radius: 8px; color: var(--theme-accent-soft);">
        ğŸ“· No image provided
    </div>
    {% endif %}

    <!-- Item Offering -->
    <div
        style="background: var(--theme-surface-alt); padding: 20px; border-radius: 8px; margin: 30px 0; border-left: 4px solid var(--theme-accent-hover);">
        <h2 style="color: var(--theme-accent-hover); margin-bottom: 10px;">ğŸ“¦ I'm Offering</h2>
        <p style="font-size: 1.3rem; color: var(--theme-accent); font-weight: 600; margin-bottom: 10px;">
            {{ swap.title }}
        </p>
        <p style="color: var(--theme-text);">
            {{ swap.description }}
        </p>
        {% if swap.condition %}
        <p style="color: var(--theme-accent-soft); margin-top: 10px;">
            <strong>Condition:</strong> {{ swap.condition }}
        </p>
        {% endif %}
    </div>

    <!-- Item Wanted -->
    {% if swap.wanted_item %}
    <div
        style="background: var(--theme-surface); padding: 20px; border-radius: 8px; margin: 30px 0; border-left: 4px solid #10b981;">
        <h2 style="color: #10b981; margin-bottom: 10px;">ğŸ¯ I Want</h2>
        <p style="font-size: 1.3rem; color: #10b981; font-weight: 600;">
            {{ swap.wanted_item }}
        </p>
        {% if swap.wanted_details %}
        <p style="color: var(--theme-text); margin-top: 10px;">
            {{ swap.wanted_details }}
        </p>
        {% endif %}
    </div>
    {% endif %}

    <!-- Additional Details -->
    <div style="background: var(--theme-surface-alt); padding: 20px; border-radius: 8px; margin: 30px 0;">
        {% if swap.location %}
        <div style="color: var(--theme-accent-soft); font-size: 0.9rem; margin-bottom: 15px;">
            <strong>ğŸ“ Location:</strong> {{ swap.location }}
        </div>
        {% endif %}
        <div style="color: var(--theme-accent-soft); font-size: 0.9rem; margin-bottom: 15px;">
            <strong>ğŸ“… Posted:</strong> {{ swap.created_at|date:"F j, Y" }}
        </div>
        {% if swap.views %}
        <div style="color: var(--theme-accent-soft); font-size: 0.9rem;">
            <strong>ğŸ‘ï¸ Views:</strong> {{ swap.views }}
        </div>
        {% endif %}
    </div>

    <!-- Action Buttons -->
    <div class="action-buttons">
        <a href="https://play.google.com/store/apps/details?id=com.nexus.marketplace" class="btn btn-primary">
            ğŸ”— Message on Nexus App
        </a>
        <a href="/swap/" class="btn btn-secondary">
            Browse More Swaps
        </a>
    </div>

    <!-- How Swaps Work -->
    <div
        style="background: var(--theme-border); padding: 20px; border-radius: 8px; margin-top: 30px; border-left: 4px solid var(--theme-accent);">
        <h3 style="color: var(--theme-accent); margin-bottom: 10px;">ğŸ”„ How Swapping Works</h3>
        <ol style="color: var(--theme-text); padding-left: 20px;">
            <li>Find an item you want to swap</li>
            <li>Message the seller on the Nexus app</li>
            <li>Agree on the trade details</li>
            <li>Meet in a safe, public place</li>
            <li>Exchange items - No money needed!</li>
        </ol>
    </div>

    <!-- Safety Tips -->
    <div
        style="background: var(--theme-surface-alt); padding: 20px; border-radius: 8px; margin-top: 20px; border-left: 4px solid #f59e0b;">
        <h3 style="color: #f59e0b; margin-bottom: 10px;">ğŸ›¡ï¸ Swap Safety Tips</h3>
        <ul style="color: var(--theme-text); padding-left: 20px;">
            <li>Always meet in public places</li>
            <li>Inspect the item carefully before swapping</li>
            <li>Bring someone with you for safety</li>
            <li>Be honest about your item's condition</li>
            <li>Take photos before and after the swap</li>
        </ul>
    </div>
</article>
{% endblock %}