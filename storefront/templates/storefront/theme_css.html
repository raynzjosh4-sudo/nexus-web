<style>
    /* --- GLOBAL THEME VARIABLES --- */
    :root {

        /* Colors from ProfileWebsiteThemeComponent - Safe fallbacks */
        {% if theme_component %}
            --bg-page: {{ theme_component.backgroundColor|default:"#0D062C" }};
            --bg-card: {{ theme_component.surfaceColor|default:"#181b21" }};
            --text-main: {{ theme_component.textColor|default:"#ffffff" }};
            --text-sub: {{ theme_component.secondaryTextColor|default:"#9ca3af" }};
            --accent-color: {{ theme_component.primaryColor|default:"#22d5ff" }};
            --secondary-color: {{ theme_component.secondaryColor|default:"#DA03D0" }};
        {% else %}
            --bg-page: #0D062C;
            --bg-card: #181b21;
            --text-main: #ffffff;
            --text-sub: #9ca3af;
            --accent-color: #22d5ff;
            --secondary-color: #DA03D0;
        {% endif %}

        /* Derived/Static Variables */
        --glass-border: rgba(255, 255, 255, 0.08);
        --transition-smooth: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    /* --- SHIMMER LOADING ANIMATION --- */
    @keyframes shimmer {
        0% {
            background-position: -200% 0;
        }

        100% {
            background-position: 200% 0;
        }
    }

    .skeleton {
        background: linear-gradient(90deg,
                var(--bg-card) 25%,
                rgba(255, 255, 255, 0.1) 37%,
                var(--bg-card) 63%);
        background-size: 200% 100%;
        animation: shimmer 1.5s infinite;
        position: relative;
        overflow: hidden;
    }

    /* Helper to hide image until loaded */
    .img-loading {
        opacity: 0;
        transition: opacity 0.5s ease;
    }

    .img-loaded {
        opacity: 1;
    }

    /* Reset all HTML elements to listen to our variables */
    * {
        box-sizing: border-box;
    }

    html,
    body {
        margin: 0;
        padding: 0;
        width: 100%;
        max-width: 100vw;
        overflow-x: hidden !important;
    }

    body {
        font-family: 'Inter', sans-serif;
        background-color: var(--bg-page) !important;
        color: var(--text-main) !important;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
        font-family: 'Outfit', sans-serif;
        color: var(--text-main) !important;
    }

    /* Target the common White Background classes */
    .dark-card,
    .component-item,
    .pd-sheet,
    .market-container,
    .store-layout,
    .profile-mobile-container {
        background-color: var(--bg-card) !important;
        border: 1px solid var(--glass-border) !important;
        color: var(--text-main) !important;
    }

    /* Button Colors */
    .btn-primary,
    .switch-btn.active {
        background-color: var(--accent-color) !important;
        color: #ffffff !important;
        border: none !important;
    }

    .nexus-section-title {
        border-left: 4px solid var(--secondary-color) !important;
        color: var(--text-main) !important;
    }

    /* Mobile Polish */
    @media (max-width: 768px) {
        .navbar-top {
            background: rgba(var(--bg-card-rgb, 5, 6, 35), 0.95) !important;
        }

        .switch-btn.active {
            background: var(--accent-color) !important;
        }

        .nexus-tabs-nav {
            background: var(--bg-card) !important;
        }

        .nexus-tab-btn.active {
            background: var(--accent-color) !important;
        }
    }
</style>